#Terminal commands for linux
java -jar $DERBY_HOME/lib/derbyrun.jar ij
CONNECT 'jdbc:derby://localhost:1527/coupon_sys_db'

# Create Single DB Tables
CREATE TABLE Company(
    ID BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY, 
    NAME VARCHAR(25) NOT NULL,
    PASSWORD VARCHAR(256) NOT NULL,
    EMAIL VARCHAR(16),
    PRIMARY KEY (ID)
);

CREATE TABLE Customer(
    ID BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY,
    NAME VARCHAR(25) NOT NULL,
    PASSWORD VARCHAR(256) NOT NULL,
    PRIMARY KEY (ID)
);

CREATE TABLE Coupon(
    ID BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY, 
    TITLE VARCHAR(25) NOT NULL,
    START_DATE DATE,
    END_DATE DATE,
    AMOUNT INT NOT NULL,
    TYPE VARCHAR(15),
    MESSAGE VARCHAR(50),
    PRICE DOUBLE NOT NULL,
    IMAGE VARCHAR(50),
    PRIMARY KEY (ID)
);

# Create Join DB Tables
CREATE TABLE Customer_Coupon(
    CUSTOMER_ID BIGINT NOT NULL,
    COUPON_ID BIGINT NOT NULL,
    PRIMARY KEY (CUSTOMER_ID, COUPON_ID)
);

CREATE TABLE Company_Coupon(
    COMPANY_ID BIGINT NOT NULL,
    COUPON_ID BIGINT NOT NULL,
    PRIMARY KEY (COMPANY_ID, COUPON_ID)
);